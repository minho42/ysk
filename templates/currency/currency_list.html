{% extends "base.html" %}
{% load static %}
{% load humanize %}

{% block title %}호주->한국{% endblock title %}

{% block content %}
<div id="list" class="flex flex-col items-center justify-between pt-2 pb-2 mx-2">

  <table class="table-auto">
    <thead>
      <tr class="border-b-2 border-gray-300 dark:border-gray-700">
        <th class="font-medium">No</th>
        <th class="font-medium">Name</th>
        <th class="font-medium">Rate</th>
        <th class="font-medium">Fee</th>
        <th class="font-medium">Real rate</th>
        <th class="font-medium">Note</th>
      </tr>
    </thead>
    <tbody>
      {% for currency in currencies %}
      <tr class="border-b border-gray-300 dark:border-gray-700">
        <td>
          {% if currency.name == "Naver" %}
          -
          {% else %}
          {{ forloop.counter0 }}.
          {% endif %}
        </td>
        <td class="py-1">
          <a class="px-1 text-blue-600 dark:text-blue-400 dark:hover:text-blue-400 hover:underline"
            href="{{ currency.url }}" target="_blank" rel="noopener noreferrer">
            {{ currency.name }}
          </a>
        </td>
        <td>
          {% if currency.real_rate != currency.rate %}
          <div class="px-1 text-gray-500">
            {{ currency.rate }}
          </div>
          {% else %}
          -
          {% endif %}
        </td>
        <td>
          {% if currency.real_rate != currency.rate %}
          <div class="inline-flex bg-red-100 dark:bg-transparent dark:text-pink-400 rounded-md px-1">
            {{ currency.fee|default_if_none:"?" }}
          </div>
          {% else %}
          -
          {% endif %}
        </td>
        <td class="">
          <div class="inline-flex bg-blue-100 dark:bg-transparent dark:text-green-400 rounded-md px-2">
            {{ currency.real_rate }}
          </div>
        </td>
        <td class="">
          {% if currency.note %}
          <div class="inline-flex dark:text-yellow-400 px-1">
            {{currency.note|truncatechars:6}}
          </div>
          {% else %}
          {% endif %}
          <!-- {{ currency.note|default_if_none:"" }} -->
        </td>
      </tr>
      {% endfor %}

    </tbody>
  </table>

  {% if last_fetch_time %}
  <div class="text-gray-800 dark:text-gray-400 my-3">{{ last_fetch_time|naturaltime }}</div>
  {% endif %}

</div>

{% endblock content %}